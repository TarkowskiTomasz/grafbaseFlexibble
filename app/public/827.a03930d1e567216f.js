"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[827],{2966:(b,Z,s)=>{s.d(Z,{_:()=>f});var u=s(5e3),t=s(9783);let f=(()=>{class h{constructor(l){this.messageService=l}success(l,p){this.showToast(l,"success",p)}info(l,p){this.showToast(l,"info",p)}warning(l,p){this.showToast(l,"warn",p)}error(l,p){this.showToast(l,"error",p)}showToast(l,p,T=!1){this.messageService.add({severity:p,detail:l,sticky:T})}clear(){this.messageService.clear()}}return h.\u0275fac=function(l){return new(l||h)(u.LFG(t.ez))},h.\u0275prov=u.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},2374:(b,Z,s)=>{s.d(Z,{P:()=>S});var u=s(1777),t=s(5e3),f=s(9808),h=s(1062);let e=(()=>{class n{transform(r){const m=Object.keys(r);return m&&m.length>0?m[0]:null}}return n.\u0275fac=function(r){return new(r||n)},n.\u0275pipe=t.Yjl({name:"firstKey",type:n,pure:!0}),n})();function l(n,c){1&n&&(t.TgZ(0,"div"),t._UZ(1,"span",3),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&n&&(t.Q6J("@showErrorAnimation",void 0),t.xp6(2),t.hij("",t.lcZ(3,2,"VALIDATE_REQUIRED")," "))}const p=function(n){return{number:n}};function T(n,c){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"span",3),t.TgZ(2,"span",4),t._uU(3,"VALIDATE_MINIMUM_CHARACTERS"),t.qZA(),t.qZA()),2&n){const r=t.oxw(2);t.Q6J("@showErrorAnimation",void 0),t.xp6(2),t.Q6J("translateParams",t.VKq(2,p,r.field.errors.minlength.requiredLength))}}function y(n,c){1&n&&(t.TgZ(0,"div"),t._UZ(1,"span",3),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&n&&(t.Q6J("@showErrorAnimation",void 0),t.xp6(2),t.hij("",t.lcZ(3,2,"VALIDATE_NEW_PASSWORD")," "))}function A(n,c){1&n&&(t.TgZ(0,"div"),t._UZ(1,"span",3),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&n&&(t.Q6J("@showErrorAnimation",void 0),t.xp6(2),t.hij("",t.lcZ(3,2,"VALIDATE_PASSWORD_MATCH")," "))}function L(n,c){1&n&&(t.TgZ(0,"div"),t._UZ(1,"span",3),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&n&&(t.Q6J("@showErrorAnimation",void 0),t.xp6(2),t.hij("",t.lcZ(3,2,"VALIDATE_IP")," "))}function w(n,c){1&n&&(t.TgZ(0,"div"),t._UZ(1,"span",3),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&n&&(t.Q6J("@showErrorAnimation",void 0),t.xp6(2),t.hij("",t.lcZ(3,2,"VALIDATE_IP_DOMAIN")," "))}function _(n,c){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"span",3),t._uU(2),t.qZA()),2&n){const r=t.oxw(2);t.Q6J("@showErrorAnimation",void 0),t.xp6(2),t.hij("",r.field.errors.appValidValues," ")}}function x(n,c){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"span",3),t._uU(2),t.qZA()),2&n){const r=t.oxw(2);t.Q6J("@showErrorAnimation",void 0),t.xp6(2),t.hij("",r.field.errors.appInvalidValues," ")}}function C(n,c){1&n&&(t.TgZ(0,"div"),t._UZ(1,"span",3),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&n&&(t.Q6J("@showErrorAnimation",void 0),t.xp6(2),t.hij("",t.lcZ(3,2,"VALIDATE_UNIQUE")," "))}function U(n,c){1&n&&(t.TgZ(0,"div"),t._UZ(1,"span",3),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&n&&(t.Q6J("@showErrorAnimation",void 0),t.xp6(2),t.hij("",t.lcZ(3,2,"VALIDATE_HEX")," "))}function O(n,c){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"span",5),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&n){const r=t.oxw(2);t.Q6J("@showErrorAnimation",void 0),t.xp6(2),t.hij("",t.xi3(3,2,"VALIDATE_LENGTH",t.VKq(5,p,r.field.errors.validLength))," ")}}function M(n,c){if(1&n&&(t.TgZ(0,"div",1),t.YNc(1,l,4,4,"div",2),t.ALo(2,"firstKey"),t.YNc(3,T,4,4,"div",2),t.ALo(4,"firstKey"),t.YNc(5,y,4,4,"div",2),t.ALo(6,"firstKey"),t.YNc(7,A,4,4,"div",2),t.ALo(8,"firstKey"),t.YNc(9,L,4,4,"div",2),t.ALo(10,"firstKey"),t.YNc(11,w,4,4,"div",2),t.ALo(12,"firstKey"),t.YNc(13,_,3,2,"div",2),t.ALo(14,"firstKey"),t.YNc(15,x,3,2,"div",2),t.ALo(16,"firstKey"),t.YNc(17,C,4,4,"div",2),t.ALo(18,"firstKey"),t.YNc(19,U,4,4,"div",2),t.ALo(20,"firstKey"),t.YNc(21,O,4,7,"div",2),t.ALo(22,"firstKey"),t.qZA()),2&n){const r=t.oxw();t.xp6(1),t.Q6J("ngIf","required"===t.lcZ(2,11,r.field.errors)),t.xp6(2),t.Q6J("ngIf","minlength"===t.lcZ(4,13,r.field.errors)),t.xp6(2),t.Q6J("ngIf","appValidatePassword"===t.lcZ(6,15,r.field.errors)),t.xp6(2),t.Q6J("ngIf","appValidateEqual"===t.lcZ(8,17,r.field.errors)),t.xp6(2),t.Q6J("ngIf","appValidateIp"===t.lcZ(10,19,r.field.errors)),t.xp6(2),t.Q6J("ngIf","appValidateIpDomain"===t.lcZ(12,21,r.field.errors)),t.xp6(2),t.Q6J("ngIf","appValidValues"===t.lcZ(14,23,r.field.errors)),t.xp6(2),t.Q6J("ngIf","appInvalidValues"===t.lcZ(16,25,r.field.errors)),t.xp6(2),t.Q6J("ngIf","appValidateUnique"===t.lcZ(18,27,r.field.errors)),t.xp6(2),t.Q6J("ngIf","appValidateHex"===t.lcZ(20,29,r.field.errors)),t.xp6(2),t.Q6J("ngIf","appValidateEqualLength"===t.lcZ(22,31,r.field.errors))}}const P=["*"];let S=(()=>{class n{constructor(){this.cl="app-validate"}}return n.\u0275fac=function(r){return new(r||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-validate"]],hostVars:1,hostBindings:function(r,m){2&r&&t.uIk("class",m.cl)},inputs:{field:"field",type:"type"},ngContentSelectors:P,decls:2,vars:1,consts:[["class","validation-error",4,"ngIf"],[1,"validation-error"],[4,"ngIf"],[1,"icon_abb_16","icon-abb_error-circle-1_16"],["translate","",3,"translateParams"],[1,"abb_icon_16","icon-abb_error-circle-1_16"]],template:function(r,m){1&r&&(t.F$t(),t.Hsn(0),t.YNc(1,M,23,33,"div",0)),2&r&&(t.xp6(1),t.Q6J("ngIf","tooltip"!==m.type&&m.field.invalid&&m.field.touched))},directives:[f.O5,h.Pi],pipes:[e,h.X$],styles:["[_nghost-%COMP%]{display:block}"],data:{animation:[(0,u.X$)("showErrorAnimation",[(0,u.eR)(":enter",[(0,u.oB)({transform:"scale(0.8)",opacity:0}),(0,u.jt)("300ms",(0,u.oB)({transform:"scale(1)",opacity:1}))])])]}}),n})()},7815:(b,Z,s)=>{s.d(Z,{b:()=>t});var u=s(5e3);let t=(()=>{class f{constructor(){this.checkForm=!0,this.appFormButtonClick=new u.vpe}onClick(e){this.checkForm?(Object.keys(this.form.controls).forEach(l=>this.form.controls[l].markAsTouched()),this.form.valid?this.appFormButtonClick.next(e):e.stopPropagation()):this.appFormButtonClick.next(e)}}return f.\u0275fac=function(e){return new(e||f)},f.\u0275dir=u.lG2({type:f,selectors:[["","appFormButtonClick",""]],hostBindings:function(e,l){1&e&&u.NdJ("click",function(T){return l.onClick(T)})},inputs:{checkForm:"checkForm",form:"form"},outputs:{appFormButtonClick:"appFormButtonClick"}}),f})()},4827:(b,Z,s)=>{s.r(Z),s.d(Z,{LoginModule:()=>V});var u=s(5084),t=s(4521),f=s(655),h=s(9808),e=s(5e3),l=s(520);let p=(()=>{class i{constructor(o){this.http=o}login(o){return this.http.post("api/login",o)}licenses(){return this.http.get("assets/licenses.json")}}return i.\u0275fac=function(o){return new(o||i)(e.LFG(l.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var T=s(2966),y=s(1062),A=s(9777),L=s(2313),w=s(4063),_=s(3075),x=s(2374),C=s(6042),U=s(2643),O=s(2683),M=s(7815),P=s(493),S=s(385),n=s(2874);const c=["termsTemplate"];function r(i,d){if(1&i){const o=e.EpF();e.TgZ(0,"div",31),e.TgZ(1,"button",32),e.NdJ("click",function(){return e.CHM(o),e.oxw(2).loadLicenses()}),e._uU(2,"Load Open Source Software Licenses"),e.qZA(),e.qZA()}if(2&i){const o=e.oxw(2);e.xp6(1),e.Q6J("disabled",o.loadingLicenses)("nzLoading",o.loadingLicenses)}}function m(i,d){if(1&i&&(e.TgZ(0,"span"),e._uU(1,"Repository: "),e.TgZ(2,"a",40),e._uU(3),e.qZA(),e._UZ(4,"br"),e.qZA()),2&i){const o=e.oxw(2).$implicit;e.xp6(2),e.uIk("href",o.repo,e.LSH),e.xp6(1),e.Oqu(o.repo)}}function I(i,d){if(1&i&&(e.TgZ(0,"span",37),e.YNc(1,m,5,2,"span",38),e._uU(2," License:"),e._UZ(3,"br"),e.TgZ(4,"span",39),e._uU(5),e.qZA(),e.qZA()),2&i){const o=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",o.repo),e.xp6(4),e.hij(" ",o.text," ")}}function E(i,d){if(1&i){const o=e.EpF();e.TgZ(0,"li"),e.TgZ(1,"span",34),e.NdJ("click",function(){const v=e.CHM(o).$implicit;return v.show=!v.show}),e._UZ(2,"i",35),e._uU(3),e._UZ(4,"br"),e.qZA(),e.YNc(5,I,6,2,"span",36),e.qZA()}if(2&i){const o=d.$implicit;e.xp6(3),e.AsE(" ",o.name," (",o.version,")"),e.xp6(2),e.Q6J("ngIf",o.show)}}function J(i,d){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.TgZ(2,"ul",33),e.YNc(3,E,6,3,"li",28),e.qZA(),e.qZA()),2&i){const o=d.$implicit;e.xp6(1),e.hij(" ",o.name," "),e.xp6(2),e.Q6J("ngForOf",o.list)}}function F(i,d){if(1&i&&(e.TgZ(0,"div",22),e.TgZ(1,"h3",23),e._uU(2),e.qZA(),e.TgZ(3,"h5"),e._uU(4,"1. Definitions, License Terms"),e.qZA(),e._uU(5),e.TgZ(6,"h5"),e._uU(7,"2. Scope of License"),e.qZA(),e._uU(8," The Licensee acquires the non-exclusive right to use the Software only in the use of the Product. The Licensee may transfer this right of use to subsequent owners or leaseholders of the Product, i.e. only together with the Product; in this case the Licensee shall impose on the successor the restrictions and obligations from these Terms of Use. When transferring this right, the Licensee may not retain copies of the Software. "),e.TgZ(9,"h5"),e._uU(10,"3. Special Restrictions"),e.qZA(),e._uU(11," The Licensee shall refrain from "),e.TgZ(12,"ul",24),e.TgZ(13,"li"),e._uU(14,"handing over, or otherwise making the Software accessible, to a third party without prior written permission from Licensor,"),e.qZA(),e.TgZ(15,"li"),e._uU(16,"any processing, in particular any translating or modifying, of the Software or creating any derivative products,"),e.qZA(),e.TgZ(17,"li"),e._uU(18,"decompiling or disassembling the Software without prior written permission from Licensor,"),e.qZA(),e.TgZ(19,"li"),e._uU(20,"duplicating the Software, and/or"),e.qZA(),e.TgZ(21,"li"),e._uU(22,"transferring the Licence to a third party (other than as per Clause 2 above) or granting a sub-licence."),e.qZA(),e.qZA(),e.TgZ(23,"h5"),e._uU(24,"4. Copyright Infringement"),e.qZA(),e._uU(25," The Software is protected by copyright. The Licensee shall only be granted a limited license hereunder, but in no case acquire, or be granted, any rights to or in the Software itself. The Licensor and the copyright owner in particular reserve all rights concerning the publication, duplication, processing, editing and use of the Software. If an infringement of intellectual property rights occurs the Licensor shall, within a reasonable time, at his option: "),e.TgZ(26,"ul",25),e.TgZ(27,"li"),e._uU(28,"provide for the Licensee the right to continue to use the Software,"),e.qZA(),e.TgZ(29,"li"),e._uU(30,"change the Software so that the infringement ceases, or"),e.qZA(),e.TgZ(31,"li"),e._uU(32,"replace the Software with other software with an equivalent function, the use of which does not result in an infringement."),e.qZA(),e.qZA(),e._uU(33," Except as specified in this Clauses 4, the Licensor shall have no liability towards the Licensee for any infringement of third parties\u2019 rights caused by the Licensee\u2019s use of the Software. This limitation of the Licensor\u2019s liability shall, however, not apply if he has been guilty of intention or gross negligence. "),e.TgZ(34,"h5"),e._uU(35,"5. Liability"),e.qZA(),e._uU(36," The Licensor shall not be liable for any claim in respect of an infringement which is based on: "),e.TgZ(37,"ul",25),e.TgZ(38,"li"),e._uU(39,"use of the Software (by the Licensee or any person on his behalf or succeeding him) in a manner or place which has not been agreed and which the Licensor should not reasonably have foreseen, or"),e.qZA(),e.TgZ(40,"li"),e._uU(41,"changes to the Software."),e.qZA(),e.qZA(),e._uU(42," The Licensee shall indemnify and hold the Licensor harmless from and against any claims by third parties in connection with the use of the Software by the Licensee or any person on his behalf or succeeding him. "),e.TgZ(43,"h5"),e._uU(44,"6. No claims against Licensor"),e.qZA(),e.TgZ(45,"p"),e._uU(46,"Unless otherwise agreed in writing, the Licensor shall not be obliged to provide the Licensee with updated versions of the Software."),e.qZA(),e._uU(47," Any claims in view of the Product including the Software, in particular any warranty claims, shall be put forward by Licensee against Licensee\u2019s seller. The Licensee shall not be entitled to put forward such claims against Licensor, unless based on a separate written agreement. "),e.TgZ(48,"h5"),e._uU(49,"7. Open Source Software"),e.qZA(),e.TgZ(50,"p"),e._uU(51,"To the extent that the Software contains so-called open source software, the conditions of use of the Open Source Software shall apply with priority. A list of the \u201cThird party software components, notices and licenses\u201d and the respective conditions of use is set out at the end of these Terms of Use. Licensee shall indemnify and hold Licensor harmless from and against any claims, cost, expenses incurred by Licensor as a result of using the open source software by Licensee or its successors."),e.qZA(),e.TgZ(52,"p"),e._uU(53,"In view of open source software components under LGPLv2.1 the following provision shall apply (without prejudice to the provisions of this Section 7): Licensee shall not be prohibited to modify libraries provided under Lessor General Public License (version 2.1) and/or to reverse engineer such libraries for debugging such modifications."),e.qZA(),e._uU(54," NOTE: Any liability or warranty of the licensing authors of the open source software components shall be excluded. "),e.TgZ(55,"h5"),e._uU(56,"8. Secrecy"),e.qZA(),e._uU(57," The Licensee undertakes to maintain secrecy concerning all information and documents of the Licensor of which he and/or his employees become aware (in particular the Software and/or Documentation) towards third parties and not to make these accessible to third parties in any way. "),e.TgZ(58,"h5"),e._uU(59,"9. Coming into Force and Duration of the License"),e.qZA(),e._uU(60," The Terms of Use shall come into force upon acceptance of these terms by Licensee. The Terms of Use shall have an unlimited term. The right of the Licensee to use the Software shall expire automatically without notice if he violates any of these Terms of Use. If there is an insignificant breach of duty, automatic expiry shall only apply (i) after repeated violations of the same or a comparable duty (i.e. at least twice) or (ii) after the Licensee has requested the Licensor in vain to rectify the situation caused by the breach of duty. When the right of use is terminated, the Licensee is obliged to erase, or have erased, all the copies of the Software, including any modified copies. Licensee shall, on Licensor\u2019s request, confirm in writing that he has fulfilled the obligations set out above. "),e.TgZ(61,"h5"),e._uU(62,"10. Compensation for breach of Contract"),e.qZA(),e._uU(63," The Licensee shall be liable for all damages incurred by Licensor due to a breach of any of these Terms of Use by Licensee or by any person engaged or employed by Licensee in connection with the performance of these Terms of Use. "),e.TgZ(64,"h5"),e._uU(65,"11. Governing Law and Jurisdiction"),e.qZA(),e.TgZ(66,"p"),e._uU(67,"These Terms of Use and their interpretation shall be governed by and construed in accordance with the laws of Switzerland under exclusion of its conflict of laws rules and the United Nations Convention on International Sale of Goods."),e.qZA(),e._uU(68," Any dispute, controversy or claim arising out of, or in relation to, this contract, including the validity, invalidity, breach, or termination thereof, shall be resolved by arbitration in accordance with the Swiss Rules of International Arbitration of the Swiss Chambers Arbitration Institution in force on the date on which the Notice of Arbitration is submitted in accordance with these Rules. The seat of the arbitration shall be Schaffhausen, Switzerland. "),e.TgZ(69,"h5"),e._uU(70,"12. Miscellaneous"),e.qZA(),e.TgZ(71,"ul",24),e.TgZ(72,"li"),e._uU(73,"These Terms of Use shall apply exclusively. Any conditions of the Licensee deviating from, or supplement, the Terms of Use shall not be binding on Licensor even if Licensor does not object thereto. This also applies if the Licensee declares that he is only willing to enter into a license agreement based on his own terms."),e.qZA(),e.TgZ(74,"li"),e._uU(75,"The Terms of Use will also govern any upgrades provided by Licensor that replace and/or supplement the original Software, unless such upgrade is accompanied by a separate license terms in which case the terms of that license will govern."),e.qZA(),e.TgZ(76,"li"),e._uU(77,"In order to comply with national and international foreign trade regulations/laws, the Parties will support each other and provide all necessary documentation and information, such as relating to the registration of items to be exported in export control lists or to the final destination and end use of the items. Neither party is obliged to perform its obligation under the contract in violation of any statutory or internal export control regulations. Licensor shall have the right at any time to withdraw from the contract, without incurring any liability for either party, if "),e.TgZ(78,"ul",26),e.TgZ(79,"li"),e._uU(80,"the Licensee, despite request, does not provide either any or sufficient enough information about the final destination and the end use of the items;"),e.qZA(),e.TgZ(81,"li"),e._uU(82,"Licensor obtains knowledge of an unintended end use after tendering or knowledge of any previously unknown person involved in the business and cannot perform the contract due to any export control or intra-group regulations;"),e.qZA(),e.TgZ(83,"li"),e._uU(84,"the items or services are intended for military end use, civil nuclear use or for use in connection with weapons of mass destruction or for missiles capable of delivering such weapons; substantive evidence shall be sufficient to prove this intent; or"),e.qZA(),e.TgZ(85,"li"),e._uU(86,"a possibly illegal or unlicensed export or an infringement of embargo rules cannot be fully ruled out."),e.qZA(),e.qZA(),e.qZA(),e.TgZ(87,"li"),e._uU(88,"Amendments to these Terms of Use shall require a written agreement between the Parties hereof."),e.qZA(),e.TgZ(89,"li"),e._uU(90,"If individual conditions of these Terms of Use are or become void or unenforceable, the effectiveness and enforceability of all the remaining clauses shall not be affected. The invalid or unenforceable provision shall be replaced with a valid and enforceable provision which comes as close as possible to the economic purpose of the invalid or unenforceable one, respectively."),e.qZA(),e.qZA(),e.TgZ(91,"h5"),e._uU(92,"Third party software components, notices and licenses"),e.qZA(),e.TgZ(93,"p"),e._uU(94,"The software contains open source software components as follows:"),e.qZA(),e.YNc(95,r,3,2,"div",27),e.YNc(96,J,4,2,"div",28),e.qZA(),e.TgZ(97,"div",29),e.TgZ(98,"button",30),e._uU(99),e.ALo(100,"translate"),e.qZA(),e.qZA()),2&i){const o=e.oxw();e.xp6(2),e.hij("Terms of Use for the software of SCU200",o.isWifi?"-W":""," v1.0, January 2023"),e.xp6(3),e.hij(" These license terms (the \u201cTerms of Use\u201d) shall apply as between the end-user (\u201cLicensee\u201d) having bought a SCU200",o.isWifi?"-W":""," (the \u201cProduct\u201d) and ABB Switzerland LTD, Electrification Smart Buildings, Schaffhausen, Switzerland (the \u201cLicensor\u201d). The Licensee shall not be entitled to use the Product, including the software of the Product (\u201cSoftware\u201d) prior to accepting these Terms of Use. Licensee has bought the Product from a third party seller, i.e. not from Licensor. Licensor has agreed with its direct customer / trader (\u201cTrader\u201d) on the scope and restrictions of the license and on the obligations of the Trader in relation to the Product and Software. The Trader is not allowed to transfer a license which exceeds the scope of the license granted by the Licensor to the Trader. The Terms of Use reflect the license rights granted to the Trader as the Trader is entitled to transfer such rights to its customer (subject to restrictions and obligations). Therefore, these Terms of Use shall not constitute (additional) obligations of the Licensor. Any claims and rights arising from the sale of the Product to the Licensee shall be put forward by Licensee to its seller. "),e.xp6(90),e.Q6J("ngIf",!o.licenses),e.xp6(1),e.Q6J("ngForOf",o.licenses),e.xp6(3),e.Oqu(e.lcZ(100,5,"OK"))}}const D=[{path:"",component:(()=>{class i{constructor(o,a,g,v,q,Q,k,z,Y,j){this.route=o,this.router=a,this.loginService=g,this.toastr=v,this.translate=q,this.appLoadService=Q,this.titleService=k,this.modalService=z,this.document=Y,this.renderer=j,this.logging=!1,this.year=(new Date).getFullYear(),this.loadingLicenses=!1}ngOnInit(){this.version=this.appLoadService.user.version,this.isWifi=this.appLoadService.user.isWifi,this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/",this.titleService.setTitle(`SCU200${this.isWifi?"-W":""} - ${this.translate.instant("LOGIN")}`),this.renderer.removeClass(this.document.body,"dark-mode"),this.renderer.removeClass(this.document.body,"light-mode"),this.renderer.addClass(this.document.body,"light-mode"),setTimeout(()=>{"auto"===this.route.snapshot.queryParams.logout?this.toastr.info(this.translate.instant("AUTO_LOGOUT"),!0):"expired"===this.route.snapshot.queryParams.logout&&this.toastr.info(this.translate.instant("AUTO_LOGOUT_TOKEN_EXPIRED"),!0);const g=(0,f._T)(this.route.snapshot.queryParams,["logout"]);this.router.navigate(["."],{relativeTo:this.route,queryParams:g})})}login(){this.toastr.clear(),this.logging=!0,this.loginService.login({user:this.user,pass:this.password}).subscribe(a=>{this.appLoadService.user=Object.assign(Object.assign({},this.appLoadService.user),a),a&&a.language&&this.appLoadService.setLanguage(a.language),this.router.navigate([this.returnUrl])},a=>{this.logging=!1,401!==a.status&&("account-locked"===a.error?this.toastr.warning(this.translate.instant("ACCOUNT_LOCKED")):this.toastr.error(this.translate.instant("WRONG_LOGIN_OR_PASSWORD")))})}termsModal(){this.modalService.showModal(this.termsTemplate,()=>{this.licenses=null,this.loadingLicenses=!1})}loadLicenses(){this.loadingLicenses=!0,this.loginService.licenses().subscribe(o=>{this.loadingLicenses=!1,this.licenses=o})}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(t.gz),e.Y36(t.F0),e.Y36(p),e.Y36(T._),e.Y36(y.sK),e.Y36(A.V),e.Y36(L.Dx),e.Y36(w.Z),e.Y36(h.K0),e.Y36(e.Qsj))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-login"]],viewQuery:function(o,a){if(1&o&&e.Gf(c,5),2&o){let g;e.iGM(g=e.CRH())&&(a.termsTemplate=g.first)}},decls:43,vars:29,consts:[[1,"login-container"],[1,"login-content"],["alt","logo","src","/assets/logo_abb_login.png",1,"logo"],[1,"product-name"],[1,"product-subname"],["form","ngForm"],[1,"form-group"],["id","login_input",3,"field"],["type","text","maxlength","255","name","username","required","",1,"form-control",3,"ngModel","ngModelChange"],["username","ngModel"],[1,"icon_abb_16","icon-abb_user_16"],["id","password_input",3,"field"],["type","password","maxlength","255","name","pass","required","",1,"form-control",3,"ngModel","ngModelChange"],["pass","ngModel"],[1,"icon_abb_16","icon-abb_lock-closed_16"],["nz-button","","nz-button","","nzType","primary","id","login_button",3,"nzLoading","disabled","form","appFormButtonClick"],[1,"all-rights"],[1,"login-footer"],["href","/api/certificate"],["id","terms",3,"click"],["style","z-index: 100;"],["termsTemplate",""],["id","modal_body",1,"p-dialog-body"],[1,"text-center"],[1,"lower-alpha"],[1,"disc"],[1,"circle"],["class","text-center mt-20",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"p-dialog-footer"],["type","button","nz-button","","appHideModal","","id","modal_cancel_button",1,"btn","btn-default"],[1,"text-center","mt-20"],["nz-button","","type","button","nzType","primary",1,"black",3,"disabled","nzLoading","click"],["id","licenses-list"],[1,"license-name",3,"click"],[1,"icon_abb_16","icon-abb_document_16"],["class","license-box",4,"ngIf"],[1,"license-box"],[4,"ngIf"],[1,"license-text"],["target","_blank"]],template:function(o,a){if(1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"img",2),e.TgZ(3,"h1",3),e._uU(4),e.qZA(),e.TgZ(5,"h2",4),e._uU(6),e.qZA(),e.TgZ(7,"form",null,5),e.TgZ(9,"div",6),e.TgZ(10,"label"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"app-validate",7),e.TgZ(14,"input",8,9),e.NdJ("ngModelChange",function(v){return a.user=v}),e.qZA(),e._UZ(16,"i",10),e.qZA(),e.qZA(),e.TgZ(17,"div",6),e.TgZ(18,"label"),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"app-validate",11),e.TgZ(22,"input",12,13),e.NdJ("ngModelChange",function(v){return a.password=v}),e.qZA(),e._UZ(24,"i",14),e.qZA(),e.qZA(),e.TgZ(25,"div",6),e.TgZ(26,"button",15),e.NdJ("appFormButtonClick",function(){return a.login()}),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",16),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.qZA(),e.TgZ(32,"div",17),e.TgZ(33,"a",18),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"a",19),e.NdJ("click",function(){return a.termsModal()}),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.qZA(),e.YNc(39,F,101,7,"ng-template",20,21,e.W1O),e.qZA(),e._UZ(41,"app-modal"),e._UZ(42,"app-toastr")),2&o){const g=e.MAs(8),v=e.MAs(15),q=e.MAs(23);e.xp6(4),e.hij("SCU200",a.isWifi?"-W":"",""),e.xp6(2),e.AsE("SCU200",a.isWifi?"-W":"",", v",a.version,""),e.xp6(5),e.hij("",e.lcZ(12,17,"USERNAME"),":"),e.xp6(2),e.Q6J("field",v),e.xp6(1),e.Q6J("ngModel",a.user),e.xp6(5),e.hij("",e.lcZ(20,19,"PASSWORD"),":"),e.xp6(2),e.Q6J("field",q),e.xp6(1),e.Q6J("ngModel",a.password),e.xp6(4),e.Q6J("nzLoading",a.logging)("disabled",a.logging)("form",g),e.xp6(1),e.Oqu(e.lcZ(28,21,"LOGIN")),e.xp6(3),e.AsE("",e.lcZ(31,23,"RIGHTS_RESERVED")," ",a.year,""),e.xp6(4),e.Oqu(e.lcZ(35,25,"DOWNLOAD_CERTIFICATE")),e.xp6(3),e.Oqu(e.lcZ(38,27,"TERMS_OF_USE"))}},directives:[_._Y,_.JL,_.F,x.P,_.Fj,_.nD,_.Q7,_.JJ,_.On,C.ix,U.dQ,O.w,M.b,h.O5,h.sg,P.u,S.z,n.l],pipes:[y.X$],styles:['@charset "UTF-8";[_nghost-%COMP%]{width:100%;height:100vh;background:#fafafa;display:flex;align-items:center;justify-content:center;flex-direction:column}.login-container[_ngcontent-%COMP%]{box-shadow:0 0 10px 1px #0000001a;background:url(/assets/login_background.png) no-repeat top;width:720px;min-height:320px}.login-content[_ngcontent-%COMP%]{position:relative;padding:64px 32px 0}.login-footer[_ngcontent-%COMP%]{border-top:1px solid silver;padding:12px 16px;font-size:12px}.logo[_ngcontent-%COMP%]{position:absolute;height:22px;top:38px;right:32px;width:61px}.product-name[_ngcontent-%COMP%]{margin:0;font-size:32px;line-height:1;min-height:64px;font-weight:700;letter-spacing:-2px}.product-name[_ngcontent-%COMP%]:before{content:"\\2014";font-size:inherit;color:#ff000f;display:block}.product-subname[_ngcontent-%COMP%]{margin:12px 0 0;min-height:20px;font-size:14px;font-weight:700}form[_ngcontent-%COMP%]{margin-top:32px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   #login_input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   #password_input[_ngcontent-%COMP%]{float:none;position:relative}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#fff;width:215px;padding-right:30px}form[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#696969;left:190px;position:absolute;top:7px}#login_button[_ngcontent-%COMP%]{margin:20px 0 16px}.all-rights[_ngcontent-%COMP%]{font-size:12px;position:absolute;bottom:25px;right:32px;font-weight:300}#terms[_ngcontent-%COMP%]{float:right;font-size:12px;transition:.2s linear;cursor:pointer}#modal_body[_ngcontent-%COMP%]{width:700px;max-width:100%;font-size:12px;max-height:50vh;overflow:auto;margin-top:20px;padding:20px}#modal_body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:5px 0 15px;padding-left:20px}#modal_body[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}#modal_body[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .license-name[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;margin-bottom:2px}#modal_body[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .license-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:3px}#modal_body[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .license-text[_ngcontent-%COMP%]{position:relative;padding:5px 0;margin:5px 0;display:inline-block;white-space:pre-wrap}#modal_body[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .license-text[_ngcontent-%COMP%]:before, #modal_body[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .license-text[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;width:100%;height:0;border-top:1px dashed #464646}#modal_body[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .license-text[_ngcontent-%COMP%]:before{top:0}#modal_body[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .license-text[_ngcontent-%COMP%]:after{bottom:0}#modal_body[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .license-box[_ngcontent-%COMP%]{display:inline-block;padding:5px}#modal_body[_ngcontent-%COMP%]   ul.lower-alpha[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:lower-alpha}#modal_body[_ngcontent-%COMP%]   ul.circle[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:circle}#modal_body[_ngcontent-%COMP%]   ul.disc[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:disc}#modal_body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.53125rem;font-weight:500}#modal_body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.09375rem;font-weight:500;margin-top:20px}@media (max-width: 991px){.login-container[_ngcontent-%COMP%]{max-width:100%}}']}),i})()}];let N=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[t.Bz.forChild(D)],t.Bz]}),i})(),V=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[u.m,N]]}),i})()}}]);
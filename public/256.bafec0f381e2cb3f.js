"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[256],{2456:(A,f,n)=>{n.d(f,{u:()=>c});var t=n(3075),d=n(5e3);let c=(()=>{class r{validate(e){return this.takenPairs?this.takenPairs.find(g=>g.function===this.currentFunction.function&&g.address===e.value)?{appInvalidValues:this.appInvalidValuesMsg}:null:this.appInvalidCheckFun?this.appInvalidValues(e.value)?{appInvalidValues:this.appInvalidValuesMsg}:null:this.takenPairs?this.takenPairs.some(g=>g.address===e.value&&g.function===this.registerFunction)?{appInvalidValues:this.appInvalidValuesMsg}:null:this.appInvalidValues&&this.appInvalidValues.length&&this.appInvalidValues.includes(e.value)?{appInvalidValues:this.appInvalidValuesMsg}:null}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=d.lG2({type:r,selectors:[["","appInvalidValues",""]],inputs:{appInvalidValues:"appInvalidValues",registerFunction:"registerFunction",takenPairs:"takenPairs",currentFunction:"currentFunction",appInvalidValuesMsg:"appInvalidValuesMsg",appInvalidCheckFun:"appInvalidCheckFun"},features:[d._Bn([{provide:t.Cf,useExisting:r,multi:!0}])]}),r})()},552:(A,f,n)=>{n.d(f,{G:()=>c});var t=n(3075),d=n(5e3);let c=(()=>{class r{constructor(){this.subscribe=!1}validate(e){return this.subscribe||(this.subscribe=!0,this.appValidateEqual.valueChanges.subscribe(()=>{e.updateValueAndValidity()})),e.value!==this.appValidateEqual.value?{appValidateEqual:!0}:null}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=d.lG2({type:r,selectors:[["","appValidateEqual",""]],inputs:{appValidateEqual:"appValidateEqual"},features:[d._Bn([{provide:t.Cf,useExisting:r,multi:!0}])]}),r})()},1688:(A,f,n)=>{n.d(f,{M:()=>c});var t=n(3075),d=n(5e3);let c=(()=>{class r{validate(e){return e.value&&!/^((25[0-5]|(2[0-4]|1\d|[1-9]|)\d)(\.(?!$)|$)){4}$/.test(e.value)?{appValidateIp:!0}:null}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=d.lG2({type:r,selectors:[["","appValidateIp",""]],features:[d._Bn([{provide:t.Cf,useExisting:r,multi:!0}])]}),r})()},9332:(A,f,n)=>{n.d(f,{o:()=>c});var t=n(3075),d=n(5e3);let c=(()=>{class r{validate(e){if("port"===this.appValidateUniqueType)return e.value&&this.appValidateUnique.find(g=>g.ports.find(v=>v.port_name.toLowerCase()===e.value.toLowerCase()&&this.itemId!==v.port_id))?{appValidateUnique:!0}:null;if("name"===this.appValidateUniqueType)return e.value&&this.appValidateUnique.find(g=>g.name.toLowerCase()===e.value.toLowerCase())&&this.initValue!==e.value?{appValidateUnique:!0}:null;if("tableProperty"===this.appValidateUniqueType)return e.value&&this.appValidateUnique.find(g=>g.toLowerCase()===e.value.toLowerCase())&&this.initValue!==e.value?{appValidateUnique:!0}:null;if("ipAddress"===this.appValidateUniqueType)return e.value&&this.appValidateUnique.find(g=>g.ip_address.toLowerCase()===e.value.toLowerCase())&&this.initValue!==e.value?{appValidateUnique:!0}:null;if("registerName"===this.appValidateUniqueType){const g=this.appValidateUnique.find(v=>v.id===this.itemId);return e.value&&g.registers.find(v=>(v.register_name||v.register_description).toLowerCase()===e.value.toLowerCase())&&this.initValue!==e.value?{appValidateUnique:!0}:null}return e.value&&this.appValidateUnique.find(g=>g.username.toLowerCase()===e.value.toLowerCase())&&this.initValue!==e.value?{appValidateUnique:!0}:null}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=d.lG2({type:r,selectors:[["","appValidateUnique",""]],inputs:{appValidateUnique:"appValidateUnique",initValue:"initValue",appValidateUniqueType:"appValidateUniqueType",itemId:"itemId"},features:[d._Bn([{provide:t.Cf,useExisting:r,multi:!0}])]}),r})()},4085:(A,f,n)=>{n.d(f,{k:()=>m});var t=n(5e3),d=n(3075),c=n(1062),r=n(2966),u=n(6912),e=n(4063),g=n(7003),v=n(9808),M=n(2374),Z=n(1688),D=n(6042),O=n(2643),I=n(2683),E=n(7815);const P=function(C){return{"label-required":C}};function h(C){return C}let m=(()=>{class C{constructor(a,_,s,o){this.translate=a,this.toastr=_,this.settingsCommunicationIpService=s,this.modalService=o,this.id="system_setup_communication_ip_configuration",this.callbackSave=new t.vpe,this.saving=!1,this.ipTypes=[{id:"Static",text:"IP_MODE_STATIC"},{id:"DHCP",text:"IP_MODE_DHCP"}]}ngOnInit(){this.tempValues=Object.assign({},this.data)}submit(){this.toastr.clear(),"wizard"!==this.type?this.modalService.showConfirm(this.translate.instant("IP_SUBMITWARNING"),()=>{this.submitConfirm()}):this.submitConfirm()}submitConfirm(){let a;a="Static"===this.data.type?(({type:_,hostname:s,address:o,netmask:i,gateway:l})=>({type:_,hostname:s,address:o,netmask:i,gateway:l}))(this.data):(({type:_,hostname:s})=>({type:_,hostname:s}))(this.data),"wizard"!==this.type?(this.saving=!0,this.modalService.hide(),this.modalService.showInfo(this.translate.instant(this.translate.instant("IP_SUBMITINFO1")+"<br>"+this.translate.instant("IP_SUBMITINFO2")),()=>{this.modalService.hide(),this.saving=!1,this.form.form.markAsPristine()})):(this.saving=!0,setTimeout(()=>{this.saving=!1,this.form.form.markAsPristine()},1e4)),this.settingsCommunicationIpService.setData(a).subscribe(()=>{"wizard"===this.type&&this.callbackSave&&this.callbackSave.next(null)},_=>{this.toastr.error(this.translate.instant("REQUEST_ERROR")),console.log(_),this.saving=!1})}ipModeChange(){"DHCP"===this.data.type?(this.form.controls.address.reset({value:"",disabled:!0}),this.form.controls.gateway.reset({value:"",disabled:!0}),this.form.controls.netmask.reset({value:"",disabled:!0})):(this.form.controls.address.reset({value:this.tempValues.address,disabled:!1}),this.form.controls.gateway.reset({value:this.tempValues.gateway,disabled:!1}),this.form.controls.netmask.reset({value:this.tempValues.netmask,disabled:!1}))}}return C.\u0275fac=function(a){return new(a||C)(t.Y36(c.sK),t.Y36(r._),t.Y36(u.g),t.Y36(e.Z))},C.\u0275cmp=t.Xpm({type:C,selectors:[["app-system-setup-communication-ip-configuration"]],hostVars:1,hostBindings:function(a,_){2&a&&t.uIk("id",_.id)},inputs:{type:"type",data:"data",form:"form"},outputs:{callbackSave:"callbackSave"},features:[t._Bn([],[{provide:d.gN,useFactory:h,deps:[[new t.FiY,d.F]]}])],decls:43,vars:51,consts:[[1,"form-group-item"],["inputId","ip_mode_select",3,"model","options","callbackChange","modelChange"],[3,"ngClass"],["id","addressInput",3,"field"],["maxlength","15","type","text","name","address","appValidateIp","",1,"form-control",3,"ngModel","required","readonly","ngModelChange"],["address","ngModel"],[3,"field"],["maxlength","15","type","text","name","netmask","appValidateIp","",1,"form-control",3,"ngModel","required","readonly","ngModelChange"],["netmask","ngModel"],["maxlength","15","type","text","name","gateway","appValidateIp","",1,"form-control",3,"ngModel","required","readonly","ngModelChange"],["gateway","ngModel"],[1,"label-required"],["maxlength","50","type","text","name","hostname","appValidateNoSpaces","","required","","minlength","3",1,"form-control",3,"ngModel","ngModelChange"],["hostname","ngModel"],["type","text","name","macAddress","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["macAddress","ngModel"],["nz-button","","nzType","primary","id","apply_button",3,"nzLoading","disabled","form","appFormButtonClick"]],template:function(a,_){if(1&a&&(t.TgZ(0,"div",0),t.TgZ(1,"label"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"app-select",1),t.NdJ("callbackChange",function(){return _.ipModeChange()})("modelChange",function(o){return _.data.type=o}),t.qZA(),t.qZA(),t.TgZ(5,"div",0),t.TgZ(6,"label",2),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"app-validate",3),t.TgZ(10,"input",4,5),t.NdJ("ngModelChange",function(o){return _.data.address=o}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",0),t.TgZ(13,"label",2),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"app-validate",6),t.TgZ(17,"input",7,8),t.NdJ("ngModelChange",function(o){return _.data.netmask=o}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",0),t.TgZ(20,"label",2),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"app-validate",6),t.TgZ(24,"input",9,10),t.NdJ("ngModelChange",function(o){return _.data.gateway=o}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"div",0),t.TgZ(27,"label",11),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"app-validate",6),t.TgZ(31,"input",12,13),t.NdJ("ngModelChange",function(o){return _.data.hostname=o}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"div",0),t.TgZ(34,"label"),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"app-validate",6),t.TgZ(38,"input",14,15),t.NdJ("ngModelChange",function(o){return _.data.mac_address=o}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(40,"button",16),t.NdJ("appFormButtonClick",function(){return _.submit()}),t._uU(41),t.ALo(42,"translate"),t.qZA()),2&a){const s=t.MAs(11),o=t.MAs(18),i=t.MAs(25),l=t.MAs(32),T=t.MAs(39);t.xp6(2),t.Oqu(t.lcZ(3,31,"IP_MODE")),t.xp6(2),t.Q6J("model",_.data.type)("options",_.ipTypes),t.xp6(2),t.Q6J("ngClass",t.VKq(45,P,"DHCP"!==_.data.type)),t.xp6(1),t.Oqu(t.lcZ(8,33,"IP_ADDRESS")),t.xp6(2),t.Q6J("field",s),t.xp6(1),t.Q6J("ngModel",_.data.address)("required","DHCP"!==_.data.type)("readonly","DHCP"===_.data.type),t.xp6(3),t.Q6J("ngClass",t.VKq(47,P,"DHCP"!==_.data.type)),t.xp6(1),t.Oqu(t.lcZ(15,35,"IP_SUBNET")),t.xp6(2),t.Q6J("field",o),t.xp6(1),t.Q6J("ngModel",_.data.netmask)("required","DHCP"!==_.data.type)("readonly","DHCP"===_.data.type),t.xp6(3),t.Q6J("ngClass",t.VKq(49,P,"DHCP"!==_.data.type)),t.xp6(1),t.Oqu(t.lcZ(22,37,"IP_GATEWAY")),t.xp6(2),t.Q6J("field",i),t.xp6(1),t.Q6J("ngModel",_.data.gateway)("required","DHCP"!==_.data.type)("readonly","DHCP"===_.data.type),t.xp6(4),t.Oqu(t.lcZ(29,39,"IP_HOST_NAME")),t.xp6(2),t.Q6J("field",l),t.xp6(1),t.Q6J("ngModel",_.data.hostname),t.xp6(4),t.Oqu(t.lcZ(36,41,"IP_MAC")),t.xp6(2),t.Q6J("field",T),t.xp6(1),t.Q6J("ngModel",_.data.mac_address),t.xp6(2),t.Q6J("nzLoading",_.saving)("disabled",_.saving)("form",_.form),t.xp6(1),t.Oqu(t.lcZ(42,43,"APPLY"))}},directives:[g.H,v.mk,M.P,d.Fj,d.nD,Z.M,d.JJ,d.On,d.Q7,d.wO,D.ix,O.dQ,I.w,E.b],pipes:[c.X$],styles:[""]}),C})()},9814:(A,f,n)=>{n.d(f,{W:()=>h});var t=n(5e3),d=n(3075),c=n(1062),r=n(2966),u=n(2189),e=n(7003),g=n(9808),v=n(2374),M=n(1688),Z=n(6042),D=n(2643),O=n(2683),I=n(7815);const E=function(m){return{"label-required":m}};function P(m){return m}let h=(()=>{class m{constructor(p,a,_){this.translate=p,this.toastr=a,this.settingsCommunicationWifiService=_,this.id="communication_wifi_configuration",this.savingWifiIp=!1,this.types=[{id:"Static",text:"IP_MODE_STATIC"},{id:"DHCP",text:"IP_MODE_DHCP"}],this.wifisChange=new t.vpe,this.wifiConnectedChange=new t.vpe}applyWifiIp(){this.savingWifiIp=!0,this.toastr.clear();const p=(({type:a,address:_,netmask:s,gateway:o})=>({type:a,address:_,netmask:s,gateway:o}))(this.data);this.settingsCommunicationWifiService.setWifiIp(p).subscribe(a=>{this.toastr.success(this.translate.instant("WIFI_SET_SUCCESS")),this.wifiConnectedChange.emit(a.wifis?a.wifis.find(_=>_.connected):{}),this.wifisChange.emit(a.wifis?a.wifis.filter(_=>!_.connected):[]),this.data.type=a.type,this.data.address=a.address,this.data.gateway=a.gateway,this.data.netmask=a.netmask,this.formIp.form.markAsPristine(),this.formIp.form.markAsUntouched(),this.formConnect&&(this.formConnect.form.markAsPristine(),this.formConnect.form.markAsUntouched()),this.savingWifiIp=!1},a=>{this.toastr.error(this.translate.instant("REQUEST_ERROR")),console.log(a),this.savingWifiIp=!1})}ipModeChange(){this.formIp.controls.gateway.markAsPristine(),this.formIp.controls.gateway.markAsUntouched(),this.formIp.controls.address.markAsPristine(),this.formIp.controls.address.markAsUntouched(),this.formIp.controls.netmask.markAsPristine(),this.formIp.controls.netmask.markAsUntouched()}}return m.\u0275fac=function(p){return new(p||m)(t.Y36(c.sK),t.Y36(r._),t.Y36(u.w))},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-system-setup-communication-wifi-configuration"]],hostVars:1,hostBindings:function(p,a){2&p&&t.uIk("id",a.id)},inputs:{formIp:"formIp",data:"data",wifis:"wifis",wifiConnected:"wifiConnected",formConnect:"formConnect"},outputs:{wifisChange:"wifisChange",wifiConnectedChange:"wifiConnectedChange"},features:[t._Bn([],[{provide:d.gN,useFactory:P,deps:[[new t.FiY,d.F]]}])],decls:36,vars:46,consts:[[1,"form-group-item"],["inputId","ip_mode_select",3,"model","options","modelChange","callbackChange"],[3,"ngClass"],["id","addres_input",3,"field"],["maxlength","15","type","text","name","address","appValidateIp","",1,"form-control",3,"ngModel","required","readonly","ngModelChange"],["address","ngModel"],["id","netmask",3,"field"],["maxlength","15","type","text","name","netmask","appValidateIp","",1,"form-control",3,"ngModel","required","readonly","ngModelChange"],["netmask","ngModel"],["id","gateway",3,"field"],["maxlength","15","type","text","name","gateway","appValidateIp","",1,"form-control",3,"ngModel","required","readonly","ngModelChange"],["gateway","ngModel"],["id","mac_address",3,"field"],["type","text","name","macAddress","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["macAddress","ngModel"],["nz-button","","nzType","primary","id","apply_ip_button",3,"nzLoading","disabled","form","appFormButtonClick"]],template:function(p,a){if(1&p&&(t.TgZ(0,"div",0),t.TgZ(1,"label"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"app-select",1),t.NdJ("modelChange",function(s){return a.data.type=s})("callbackChange",function(){return a.ipModeChange()}),t.qZA(),t.qZA(),t.TgZ(5,"div",0),t.TgZ(6,"label",2),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"app-validate",3),t.TgZ(10,"input",4,5),t.NdJ("ngModelChange",function(s){return a.data.address=s}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",0),t.TgZ(13,"label",2),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"app-validate",6),t.TgZ(17,"input",7,8),t.NdJ("ngModelChange",function(s){return a.data.netmask=s}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",0),t.TgZ(20,"label",2),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"app-validate",9),t.TgZ(24,"input",10,11),t.NdJ("ngModelChange",function(s){return a.data.gateway=s}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"div",0),t.TgZ(27,"label"),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"app-validate",12),t.TgZ(31,"input",13,14),t.NdJ("ngModelChange",function(s){return a.data.mac_address=s}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(33,"button",15),t.NdJ("appFormButtonClick",function(){return a.applyWifiIp()}),t._uU(34),t.ALo(35,"translate"),t.qZA()),2&p){const _=t.MAs(11),s=t.MAs(18),o=t.MAs(25),i=t.MAs(32);t.xp6(2),t.hij("",t.lcZ(3,28,"IP_MODE"),":"),t.xp6(2),t.Q6J("model",a.data.type)("options",a.types),t.xp6(2),t.Q6J("ngClass",t.VKq(40,E,"DHCP"!==a.data.type)),t.xp6(1),t.hij("",t.lcZ(8,30,"IP_ADDRESS"),":"),t.xp6(2),t.Q6J("field",_),t.xp6(1),t.Q6J("ngModel",a.data.address)("required","DHCP"!==a.data.type)("readonly","DHCP"===a.data.type),t.xp6(3),t.Q6J("ngClass",t.VKq(42,E,"DHCP"!==a.data.type)),t.xp6(1),t.hij("",t.lcZ(15,32,"IP_SUBNET"),":"),t.xp6(2),t.Q6J("field",s),t.xp6(1),t.Q6J("ngModel",a.data.netmask)("required","DHCP"!==a.data.type)("readonly","DHCP"===a.data.type),t.xp6(3),t.Q6J("ngClass",t.VKq(44,E,"DHCP"!==a.data.type)),t.xp6(1),t.hij("",t.lcZ(22,34,"IP_GATEWAY"),":"),t.xp6(2),t.Q6J("field",o),t.xp6(1),t.Q6J("ngModel",a.data.gateway)("required","DHCP"!==a.data.type)("readonly","DHCP"===a.data.type),t.xp6(4),t.Oqu(t.lcZ(29,36,"IP_MAC")),t.xp6(2),t.Q6J("field",i),t.xp6(1),t.Q6J("ngModel",a.data.mac_address),t.xp6(2),t.Q6J("nzLoading",a.savingWifiIp)("disabled",a.savingWifiIp)("form",a.formIp),t.xp6(1),t.Oqu(t.lcZ(35,38,"APPLY"))}},directives:[e.H,g.mk,v.P,d.Fj,d.nD,M.M,d.JJ,d.On,d.Q7,Z.ix,D.dQ,O.w,I.b],pipes:[c.X$],styles:[""]}),m})()},3104:(A,f,n)=>{n.d(f,{a:()=>_});var t=n(5e3),d=n(3075),c=n(1062),r=n(2966),u=n(2189),e=n(9808),g=n(6042),v=n(2643),M=n(2683),Z=n(6695),D=n(2374),O=n(8054),I=n(7815);const E=function(s,o,i,l){return{green:s,blue:o,orange:i,red:l}};function P(s,o){if(1&s){const i=t.EpF();t.TgZ(0,"div",11),t.TgZ(1,"label"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"span",12),t.TgZ(5,"span",13),t.TgZ(6,"span",13),t.TgZ(7,"span",13),t._UZ(8,"span",13),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"span",14),t._uU(10),t.qZA(),t.TgZ(11,"button",15),t.NdJ("click",function(){return t.CHM(i),t.oxw().disconnectWifi()}),t.ALo(12,"translate"),t._UZ(13,"i",16),t.qZA(),t.qZA()}if(2&s){const i=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,6,"CONNECTED"),":"),t.xp6(2),t.Q6J("ngClass",t.l5B(10,E,0!==i.wifiConnected.signal&&i.wifiConnected.signal>-50,i.wifiConnected.signal<=-50&&i.wifiConnected.signal>-60,i.wifiConnected.signal<=-60&&i.wifiConnected.signal>-70,i.wifiConnected.signal<=-70)),t.uIk("data-signal",i.wifiConnected.signal),t.xp6(6),t.Oqu(i.wifiConnected.ssid),t.xp6(1),t.s9C("nzTooltipTitle",t.lcZ(12,8,"DISCONNECT")),t.Q6J("disabled",i.disconnectingWifi)}}function h(s,o){if(1&s&&(t.TgZ(0,"nz-option",17),t.TgZ(1,"span",18),t.TgZ(2,"span",13),t.TgZ(3,"span",13),t.TgZ(4,"span",13),t._UZ(5,"span",13),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._uU(6),t.qZA()),2&s){const i=o.$implicit;t.Q6J("nzLabel",i.ssid)("nzValue",i),t.xp6(1),t.Q6J("ngClass",t.l5B(4,E,0!==i.signal&&i.signal>-50,i.signal<=-50&&i.signal>-60,i.signal<=-60&&i.signal>-70,i.signal<=-70)),t.xp6(5),t.hij(" ",i.ssid," ")}}function m(s,o){if(1&s&&(t.TgZ(0,"span",18),t.TgZ(1,"span",13),t.TgZ(2,"span",13),t.TgZ(3,"span",13),t._UZ(4,"span",13),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._uU(5)),2&s){const i=o.$implicit;t.Q6J("ngClass",t.l5B(2,E,0!==i.nzValue.signal&&i.nzValue.signal>-50,i.nzValue.signal<=-50&&i.nzValue.signal>-60,i.nzValue.signal<=-60&&i.nzValue.signal>-70,i.nzValue.signal<=-70)),t.xp6(5),t.hij(" ",i.nzValue.ssid," ")}}function C(s,o){if(1&s){const i=t.EpF();t.TgZ(0,"div",19),t._UZ(1,"input",20,21),t.TgZ(3,"button",22),t.NdJ("click",function(){t.CHM(i);const T=t.MAs(2);return t.oxw().addNetwork(T)}),t._UZ(4,"i",23),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA()}2&s&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"ADD_SSID")," "))}function p(s,o){if(1&s){const i=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"label"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"app-validate",24),t.TgZ(5,"input",25,26),t.NdJ("ngModelChange",function(T){return t.CHM(i),t.oxw().data.password=T}),t.qZA(),t.qZA(),t.qZA()}if(2&s){const i=t.MAs(6),l=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,4,"PASSWORD"),":"),t.xp6(2),t.Q6J("field",i),t.xp6(1),t.Q6J("ngModel",l.data.password)("required",0!==l.data.network.signal)}}function a(s){return s}let _=(()=>{class s{constructor(i,l,T){this.translate=i,this.toastr=l,this.settingsCommunicationWifiService=T,this.id="communication_wifi_network",this.savingWifiNetwork=!1,this.refreshingWifiNetwork=!1,this.disconnectingWifi=!1,this.wifiEnabled=!0}connectWifi(){this.toastr.clear(),this.savingWifiNetwork=!0,this.settingsCommunicationWifiService.connectWifi({ssid:this.data.network.ssid,password:this.data.password,hidden:0===this.data.network.signal}).subscribe(l=>{0===l.status?(this.toastr.success(this.translate.instant("WIFI_SET_SUCCESS")),this.data.network={ssid:"",signal:0,password:!1},this.data.password=""):1===l.status?this.toastr.error(this.translate.instant("REQUEST_ERROR")):2===l.status?this.toastr.warning(this.translate.instant("WIFI_NETWORK_NOT_AVAILABLE")):3===l.status&&this.toastr.warning(this.translate.instant("WIFI_NETWORK_INCORRECT_PASSWORD")),this.wifiConnected=l.wifis?l.wifis.find(T=>T.connected):{},this.wifis=l.wifis?l.wifis.filter(T=>!T.connected):[],this.data.wifis=l.wifis,this.data.type=l.type,this.data.address=l.address,this.data.gateway=l.gateway,this.data.netmask=l.netmask,this.formIp&&(this.formIp.form.markAsPristine(),this.formIp.form.markAsUntouched()),this.formConnect.form.markAsPristine(),this.formConnect.form.markAsUntouched(),this.savingWifiNetwork=!1},l=>{this.toastr.error(this.translate.instant("REQUEST_ERROR")),console.log(l),this.savingWifiNetwork=!1})}refreshWifi(){this.refreshingWifiNetwork=!0,this.settingsCommunicationWifiService.getData().subscribe(i=>{this.wifiEnabled&&(this.wifiConnected=i.wifis?i.wifis.find(l=>l.connected):{},this.wifis=i.wifis?i.wifis.filter(l=>!l.connected):[],this.data.wifis=i.wifis),this.formConnect.form.markAsPristine(),this.refreshingWifiNetwork=!1})}disconnectWifi(){this.disconnectingWifi=!0,this.settingsCommunicationWifiService.disconnectWifi().subscribe(i=>{this.wifiEnabled&&(this.wifiConnected=i.wifis?i.wifis.find(l=>l.connected):{},this.wifis=i.wifis?i.wifis.filter(l=>!l.connected):[],this.data.wifis=i.wifis),this.data.type=i.type,this.data.address=i.address,this.data.gateway=i.gateway,this.data.netmask=i.netmask,this.formIp&&(this.formIp.form.markAsPristine(),this.formIp.form.markAsUntouched()),this.disconnectingWifi=!1},i=>{this.toastr.error(this.translate.instant("REQUEST_ERROR")),this.disconnectingWifi=!1})}addNetwork(i){const l=i.value;if(!l)return;const T={ssid:l,password:!0,signal:0};this.wifis.unshift(T),this.data.network=T}}return s.\u0275fac=function(i){return new(i||s)(t.Y36(c.sK),t.Y36(r._),t.Y36(u.w))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-system-setup-communication-wifi-network"]],hostVars:1,hostBindings:function(i,l){2&i&&t.uIk("id",l.id)},inputs:{formConnect:"formConnect",data:"data",wifis:"wifis",wifiConnected:"wifiConnected",wifiEnabled:"wifiEnabled",formIp:"formIp"},features:[t._Bn([],[{provide:d.gN,useFactory:a,deps:[[new t.FiY,d.F]]}])],decls:21,vars:25,consts:[["class","form-group-item","id","connected_wifi",4,"ngIf"],[1,"form-group-item"],[3,"field"],["id","wifi_select","name","wifiSelect","nzShowSearch","",3,"ngModel","nzCustomTemplate","nzNotFoundContent","nzDropdownRender","required","ngModelChange"],["select","ngModel"],["nzCustomContent","",3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["defaultTemplate",""],["addTemplate",""],["class","form-group-item",4,"ngIf"],["nz-button","","nzType","primary","id","connect_button",3,"nzLoading","disabled","form","appFormButtonClick"],["nz-button","","id","refresh_button",3,"nzLoading","disabled","click"],["id","connected_wifi",1,"form-group-item"],["id","connected_wifi_signal",1,"wifi-bar-container",3,"ngClass"],[1,"wifi-bar"],["id","connected_wifi_ssid"],["type","button","nz-button","","id","disconnect_wifi","nzTooltipPlacement","top","nz-tooltip","",3,"nzTooltipTitle","disabled","click"],[1,"icon_abb_16","icon-abb_close_16"],["nzCustomContent","",3,"nzLabel","nzValue"],[1,"wifi-bar-container",3,"ngClass"],[1,"select-add-container"],["type","text","maxlength","32"],["inputElement",""],["nz-button","",3,"click"],[1,"icon_abb_16","icon-abb_plus_16"],["id","password_input",3,"field"],["maxlength","63","type","password","id","wifi_password","name","pass","minlength","8",1,"form-control",3,"ngModel","required","ngModelChange"],["pass","ngModel"]],template:function(i,l){if(1&i&&(t.YNc(0,P,14,15,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"label"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"app-validate",2),t.TgZ(6,"nz-select",3,4),t.NdJ("ngModelChange",function(U){return l.data.network=U}),t.ALo(8,"translate"),t.YNc(9,h,7,9,"nz-option",5),t.qZA(),t.qZA(),t.YNc(10,m,6,7,"ng-template",null,6,t.W1O),t.YNc(12,C,7,3,"ng-template",null,7,t.W1O),t.qZA(),t.YNc(14,p,7,6,"div",8),t.TgZ(15,"button",9),t.NdJ("appFormButtonClick",function(){return l.connectWifi()}),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"button",10),t.NdJ("click",function(){return l.refreshWifi()}),t._uU(19),t.ALo(20,"translate"),t.qZA()),2&i){const T=t.MAs(7),U=t.MAs(11),y=t.MAs(13);t.Q6J("ngIf",l.wifiConnected&&l.wifiConnected.ssid),t.xp6(3),t.hij("",t.lcZ(4,17,"AVAILABLE_NETWORKS"),":"),t.xp6(2),t.Q6J("field",T),t.xp6(1),t.Q6J("ngModel",l.data.network)("nzCustomTemplate",U)("nzNotFoundContent",t.lcZ(8,19,"NO_ITEMS_FOUND"))("nzDropdownRender",y)("required",!0),t.xp6(3),t.Q6J("ngForOf",l.wifis),t.xp6(5),t.Q6J("ngIf",l.data.network&&l.data.network.password),t.xp6(1),t.Q6J("nzLoading",l.savingWifiNetwork)("disabled",l.savingWifiNetwork||l.refreshingWifiNetwork)("form",l.formConnect),t.xp6(1),t.Oqu(t.lcZ(17,21,"CONNECT")),t.xp6(2),t.Q6J("nzLoading",l.refreshingWifiNetwork)("disabled",l.savingWifiNetwork||l.refreshingWifiNetwork),t.xp6(1),t.Oqu(t.lcZ(20,23,"REFRESH"))}},directives:[e.O5,e.mk,g.ix,v.dQ,M.w,Z.SY,D.P,O.Vq,d.JJ,d.On,d.Q7,e.sg,O.Ip,d.Fj,d.nD,d.wO,I.b],pipes:[c.X$],styles:[".wifi-bar-container[_ngcontent-%COMP%]{width:32px;height:16px;display:inline-block;position:relative;top:1px;overflow:hidden}.wifi-bar-container[_ngcontent-%COMP%]   .wifi-bar[_ngcontent-%COMP%]{border:3px solid transparent;border-top-color:#dedede;margin:1px;border-radius:50%;display:inline-block;line-height:0}.wifi-bar-container.green[_ngcontent-%COMP%]   .wifi-bar[_ngcontent-%COMP%]{border-top-color:#0ca919}.wifi-bar-container.blue[_ngcontent-%COMP%]   .wifi-bar[_ngcontent-%COMP%] > .wifi-bar[_ngcontent-%COMP%]{border-top-color:#2a35ff}.wifi-bar-container.orange[_ngcontent-%COMP%]   .wifi-bar[_ngcontent-%COMP%] > .wifi-bar[_ngcontent-%COMP%] > .wifi-bar[_ngcontent-%COMP%]{border-top-color:#ff7300}.wifi-bar-container.red[_ngcontent-%COMP%]   .wifi-bar[_ngcontent-%COMP%] > .wifi-bar[_ngcontent-%COMP%] > .wifi-bar[_ngcontent-%COMP%] > .wifi-bar[_ngcontent-%COMP%]{border-top-color:#f03040}.select-add-container[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.06);margin-top:5px;padding:10px;display:flex;flex-direction:row}.select-add-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:150px;margin-right:10px}#disconnect_wifi[_ngcontent-%COMP%]{margin-left:5px}"]}),s})()},619:(A,f,n)=>{n.d(f,{s:()=>h});var t=n(5963),d=n(515),c=n(2529),r=n(6129),u=n(262),e=n(5e3),g=n(2966),v=n(4063),M=n(1062),Z=n(452),D=n(5115),O=n(2334),I=n(6042),E=n(2643),P=n(2683);let h=(()=>{class m{constructor(p,a,_,s,o){this.toastr=p,this.modalService=a,this.translate=_,this.settingsService=s,this.sessionService=o,this.id="system_setup_firmware_update_update_control_unit",this.aliveStatus=!0,this.aliveRestart=!0,this.loadingData=!0}ngOnInit(){this.settingsService.softwareVersion().subscribe(p=>{this.hwVersion=p.hwVersion,this.version=p.version,this.serial=p.serial,this.build=p.build,this.loadingData=!1})}submit(){this.hideToast(),this.file?this.modalService.showConfirm(this.translate.instant("FIRMWARE_UPDATE_WARNTEXT"),()=>{this.confirmUpload()}):this.toastr.warning(this.translate.instant("FIRMWARE_UPDATE_SELECT_FILE"))}confirmUpload(){this.sessionService.removeSessionExpiration(),this.modalService.showLoaderProgress(this.translate.instant("FIRMWARE_UPDATE_LOADINFO"));const p=new FormData;p.set("file",this.file,this.file.name),this.settingsService.upload(p).subscribe(a=>{!0===a?this.startUpdate():this.modalService.updateProgress(a)},()=>{this.toastr.error(this.translate.instant("FIRMWARE_UPDATE_ERROR"),!0),this.sessionService.startSession(!0),this.modalService.hide()})}startUpdate(){this.modalService.showLoader(this.translate.instant("FIRMWARE_UPDATE_INFOWIN")),this.settingsService.startUpdate().subscribe(()=>{this.updateStatus()})}updateStatus(){this.aliveStatus=!0,(0,t.H)(5e3,5e3).pipe((0,c.o)(()=>this.aliveStatus),(0,r.z)(()=>this.settingsService.updateStatus().pipe((0,u.K)(()=>d.E)))).subscribe(p=>{if("pending"!==p.status&&"finished"===p.status)if(this.aliveStatus=!1,p.errorCode){let a="FIRMWARE_UPDATE_ERROR";p.errorCode>=1&&p.errorCode<=3&&(a+=p.errorCode),this.toastr.error(this.translate.instant(a),!0),this.sessionService.startSession(!0),this.modalService.hide()}else this.modalService.showInfo(this.translate.instant("FIRMWARE_UPDATE_RESTART"),()=>{this.modalService.showLoader(this.translate.instant("SYSTEM_RESET_PREP")),this.restart()})})}restart(){this.settingsService.restart().subscribe(()=>{(0,t.H)(25e3,5e3).pipe((0,c.o)(()=>this.aliveRestart),(0,r.z)(()=>this.settingsService.serverStatus().pipe((0,u.K)(()=>d.E)))).subscribe(()=>{this.aliveRestart=!1,this.modalService.showInfo(this.translate.instant("FIRMWARE_UPDATE_OK"),()=>{this.modalService.hide(),"wizard"===this.type?window.location.href=`${document.location.origin}/wizard/update`:window.location.reload()})})})}hideToast(){this.toastr.clear()}ngOnDestroy(){this.aliveStatus=!1,this.aliveRestart=!1}}return m.\u0275fac=function(p){return new(p||m)(e.Y36(g._),e.Y36(v.Z),e.Y36(M.sK),e.Y36(Z.g),e.Y36(D.m))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-general-firmware-update-update"]],hostVars:1,hostBindings:function(p,a){2&p&&e.uIk("id",a.id)},inputs:{data:"data",type:"type"},decls:37,vars:32,consts:[["id","hardware_version"],["id","firmware_version"],["id","build_version"],["id","serial_number"],["href","","target","_blank"],["inputId","selected_file","accept",".swu",3,"file","fileChange","callbackChange"],[1,"text-center"],["nz-button","","nzType","primary","id","update_button",3,"click"]],template:function(p,a){1&p&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"strong",0),e._uU(4),e.qZA(),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.TgZ(8,"strong",1),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"p"),e._uU(11),e.ALo(12,"translate"),e.TgZ(13,"strong",2),e._uU(14),e.qZA(),e.qZA(),e.TgZ(15,"p"),e._uU(16),e.ALo(17,"translate"),e.TgZ(18,"strong",3),e._uU(19),e.qZA(),e.qZA(),e.TgZ(20,"p"),e._uU(21),e.ALo(22,"translate"),e.TgZ(23,"a",4),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.qZA(),e.TgZ(26,"p"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"p"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"app-file-upload",5),e.NdJ("fileChange",function(s){return a.file=s})("callbackChange",function(){return a.hideToast()}),e.qZA(),e.TgZ(33,"div",6),e.TgZ(34,"button",7),e.NdJ("click",function(){return a.submit()}),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.qZA()),2&p&&(e.xp6(1),e.hij("",e.lcZ(2,14,"HARDWARE_VERSION"),": "),e.xp6(3),e.Oqu(a.data.hwVersion),e.xp6(2),e.hij("",e.lcZ(7,16,"FIRMWARE_VERSION"),": "),e.xp6(3),e.Oqu(a.data.version),e.xp6(2),e.hij("",e.lcZ(12,18,"FIRMWARE_UPDATE_BUILDVER"),": "),e.xp6(3),e.Oqu(a.data.build),e.xp6(2),e.hij("",e.lcZ(17,20,"SERIAL_NUMBER"),":\t"),e.xp6(3),e.Oqu(a.data.serial),e.xp6(2),e.hij("",e.lcZ(22,22,"FIRMWARE_UPDATE1")," "),e.xp6(3),e.Oqu(e.lcZ(25,24,"FIRMWARE_UPDATE1_HERE")),e.xp6(3),e.Oqu(e.lcZ(28,26,"FIRMWARE_UPDATE2")),e.xp6(3),e.Oqu(e.lcZ(31,28,"FIRMWARE_UPDATE3")),e.xp6(2),e.Q6J("file",a.file),e.xp6(3),e.Oqu(e.lcZ(36,30,"BUTTON_UPDATENOW")))},directives:[O.Y,I.ix,E.dQ,P.w],pipes:[M.X$],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;overflow:auto}#update_button[_ngcontent-%COMP%]{margin-top:20px}"]}),m})()},4447:(A,f,n)=>{n.d(f,{l:()=>I});var t=n(5e3),d=n(1062),c=n(2966),r=n(6681),u=n(9777),e=n(7003),g=n(9808),v=n(6042),M=n(2643),Z=n(2683),D=n(7815);function O(E,P){if(1&E){const h=t.EpF();t.TgZ(0,"button",4),t.NdJ("appFormButtonClick",function(){return t.CHM(h),t.oxw().save()}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&E){const h=t.oxw();t.Q6J("nzLoading",h.saving)("disabled",h.saving)("form",h.form),t.xp6(1),t.Oqu(t.lcZ(2,4,"APPLY"))}}let I=(()=>{class E{constructor(h,m,C,p){this.translate=h,this.toastr=m,this.settingsRegionService=C,this.appLoadService=p,this.id="general_region_configuration",this.saving=!1}ngOnInit(){this.currenciesSelect=this.currencies.map(h=>({id:h.id,name:h.name,additional_text:`(${h.symbol})`}))}save(){this.toastr.clear(),this.saving=!0,this.settingsRegionService.setData({language:this.data.language,currency:this.data.currency}).subscribe(()=>{this.toastr.success(this.translate.instant("SAVE_REGION_SUCCESS")),this.saving=!1,this.form.form.markAsPristine(),this.form.form.markAsUntouched();const h=this.currencies.find(m=>m.id===this.data.currency);h&&this.appLoadService.currency.next(h),this.appLoadService.setLanguage(this.data.language)},()=>{this.toastr.error(this.translate.instant("REQUEST_ERROR")),this.saving=!1})}}return E.\u0275fac=function(h){return new(h||E)(t.Y36(d.sK),t.Y36(c._),t.Y36(r.U),t.Y36(u.V))},E.\u0275cmp=t.Xpm({type:E,selectors:[["app-general-region-configuration"]],hostVars:1,hostBindings:function(h,m){2&h&&t.uIk("id",m.id)},inputs:{type:"type",languages:"languages",currencies:"currencies",form:"form",data:"data"},decls:11,vars:11,consts:[[1,"form-group-item"],["inputId","language_select",3,"model","options","modelChange"],["inputId","currency_select",3,"model","options","modelChange"],["nz-button","","nzType","primary","type","submit","id","apply_button","class","btn btn-primary",3,"nzLoading","disabled","form","appFormButtonClick",4,"ngIf"],["nz-button","","nzType","primary","type","submit","id","apply_button",1,"btn","btn-primary",3,"nzLoading","disabled","form","appFormButtonClick"]],template:function(h,m){1&h&&(t.TgZ(0,"div",0),t.TgZ(1,"label"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"app-select",1),t.NdJ("modelChange",function(p){return m.data.language=p}),t.qZA(),t.qZA(),t.TgZ(5,"div",0),t.TgZ(6,"label"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"app-select",2),t.NdJ("modelChange",function(p){return m.data.currency=p}),t.qZA(),t.qZA(),t.YNc(10,O,3,6,"button",3)),2&h&&(t.xp6(2),t.Oqu(t.lcZ(3,7,"LANGUAGE")),t.xp6(2),t.Q6J("model",m.data.language)("options",m.languages),t.xp6(3),t.Oqu(t.lcZ(8,9,"CURRENCY")),t.xp6(2),t.Q6J("model",m.data.currency)("options",m.currenciesSelect),t.xp6(1),t.Q6J("ngIf","wizard"!==m.type))},directives:[e.H,g.O5,v.ix,M.dQ,Z.w,D.b],pipes:[d.X$],styles:[""]}),E})()},6782:(A,f,n)=>{n.d(f,{B:()=>p});var t=n(5e3),d=n(1062),c=n(2966),r=n(3906),u=n(4063),e=n(3075),g=n(6042),v=n(2643),M=n(2683),Z=n(2905),D=n(6462),O=n(9808),I=n(2374),E=n(7815),P=n(283);const h=["form"];function m(a,_){if(1&a){const s=t.EpF();t.TgZ(0,"div",5),t.TgZ(1,"label",12),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"app-validate",13),t.TgZ(5,"input",14,15),t.NdJ("ngModelChange",function(i){return t.CHM(s),t.oxw().data.ntpTimeServer=i}),t.qZA(),t.qZA(),t.qZA()}if(2&a){const s=t.MAs(6),o=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,3,"TIME_NTP_SERVER1")),t.xp6(2),t.Q6J("field",s),t.xp6(1),t.Q6J("ngModel",o.data.ntpTimeServer)}}function C(a,_){if(1&a){const s=t.EpF();t.TgZ(0,"div",5),t.TgZ(1,"label"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"app-validate",16),t.TgZ(5,"input",17,18),t.NdJ("ngModelChange",function(i){return t.CHM(s),t.oxw().data.ntpTimeServer2=i}),t.qZA(),t.qZA(),t.qZA()}if(2&a){const s=t.MAs(6),o=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,3,"TIME_NTP_SERVER2")),t.xp6(2),t.Q6J("field",s),t.xp6(1),t.Q6J("ngModel",o.data.ntpTimeServer2)}}let p=(()=>{class a{constructor(s,o,i,l){this.translate=s,this.toastr=o,this.settingsTimeService=i,this.modalService=l,this.id="general_time_configuration",this.loadingData=!0,this.synchronizing=!1,this.applyingNtp=!1,this.ntpServers=[]}synchronize(){this.toastr.clear(),this.synchronizing=!0;const s=Math.floor((new Date).getTime()/1e3);this.settingsTimeService.setData({formattedData:s}).subscribe(o=>{this.toastr.success(this.translate.instant("SYNCHRONIZE_SUCCESS")),this.synchronizing=!1,this.data.deviceTime=o.time},o=>{this.toastr.error(this.translate.instant("REQUEST_ERROR")),console.log(o),this.synchronizing=!1})}applyTime(){this.toastr.clear(),this.modalService.showConfirm(`${this.translate.instant("TIME_WARNING")} <strong>${this.data.setTime.toLocaleString()}</strong>`,()=>{this.modalService.setLoading(!0);const s=Math.floor(new Date(this.data.setTime).getTime()/1e3);this.settingsTimeService.setData({formattedData:s}).subscribe(o=>{this.toastr.success(this.translate.instant("TIME_SET_SUCCESS")),this.data.deviceTime=o.time,this.modalService.hide()},o=>{this.toastr.error(this.translate.instant("REQUEST_ERROR")),this.modalService.hide(),console.log(o)})})}applyNtp(){this.toastr.clear(),this.applyingNtp=!0;const s={enable:Boolean(this.data.ntpEnable),ntp1:this.data.ntpTimeServer,ntp2:this.data.ntpTimeServer2};s.enable||(delete this.data.ntpTimeServer,delete this.data.ntpTimeServer2),this.settingsTimeService.setNtp(s).subscribe(o=>{10===o.status?(this.toastr.error(this.translate.instant("TIME_NTP_ERROR")),this.modalService.hide(),this.data.ntpEnable=!1,this.applyingNtp=!1):(this.toastr.success(this.translate.instant("NTP_SET_SUCCESS")),this.applyingNtp=!1,this.form.form.markAsPristine())},o=>{this.toastr.error(this.translate.instant("REQUEST_ERROR")),console.log(o),this.applyingNtp=!1})}}return a.\u0275fac=function(s){return new(s||a)(t.Y36(d.sK),t.Y36(c._),t.Y36(r.F),t.Y36(u.Z))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-general-time-configuration"]],viewQuery:function(s,o){if(1&s&&t.Gf(h,5),2&s){let i;t.iGM(i=t.CRH())&&(o.form=i.first)}},hostVars:1,hostBindings:function(s,o){2&s&&t.uIk("id",o.id)},inputs:{data:"data"},decls:53,vars:55,consts:[["id","browser_time_input",1,"form-group-item"],["type","text","name","browserTime","readonly","",1,"form-control",3,"ngModel"],["id","device_time_input",1,"form-group-item"],["type","text","name","deviceTime","readonly","",1,"form-control",3,"ngModel"],["nz-button","","nzType","primary","type","submit","id","synchronize_button",1,"btn","btn-primary",3,"disabled","nzLoading","click"],[1,"form-group-item"],["id","date_manual","name","dateManual","nzShowTime","","nzFormat","dd.MM.yyyy HH:mm:ss",3,"ngModel","nzDefaultPickerValue","nzInputReadOnly","nzAllowClear","ngModelChange"],["nz-button","","nzType","primary","type","submit","id","manual_apply_button",1,"btn","btn-primary",3,"disabled","click"],["form","ngForm"],["id","ntp_switch","name","ntp_enable",3,"ngModel","ngModelChange"],["class","form-group-item",4,"ngIf"],["nz-button","","nzType","primary","type","submit","id","ntp_apply_button",1,"btn","btn-primary",3,"nzLoading","disabled","form","appFormButtonClick"],[1,"label-required"],["id","timeServer1Input",3,"field"],["maxlength","50","type","text","name","ntpTimeServers1","required","",1,"form-control",3,"ngModel","ngModelChange"],["ntpTimeServers1","ngModel"],["id","timeServer2Input",3,"field"],["maxlength","50","type","text","name","ntpTimeServers2",1,"form-control",3,"ngModel","ngModelChange"],["ntpTimeServers2","ngModel"]],template:function(s,o){if(1&s&&(t.TgZ(0,"div"),t.TgZ(1,"h3"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"form"),t.TgZ(5,"div",0),t.TgZ(6,"label"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._UZ(9,"input",1),t.ALo(10,"toLocaleString"),t.qZA(),t.TgZ(11,"div",2),t.TgZ(12,"label"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t._UZ(15,"input",3),t.ALo(16,"toLocaleString"),t.qZA(),t.TgZ(17,"button",4),t.NdJ("click",function(){return o.synchronize()}),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.qZA(),t.TgZ(20,"h3"),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"form"),t.TgZ(24,"div",5),t.TgZ(25,"label"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"nz-date-picker",6),t.NdJ("ngModelChange",function(l){return o.data.setTime=l}),t.qZA(),t.qZA(),t.TgZ(29,"button",7),t.NdJ("click",function(){return o.applyTime()}),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.qZA(),t.TgZ(32,"div",5),t.TgZ(33,"p"),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.qZA(),t.TgZ(36,"h3"),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.TgZ(39,"form",null,8),t.TgZ(41,"div",5),t.TgZ(42,"nz-switch",9),t.NdJ("ngModelChange",function(l){return o.data.ntpEnable=l}),t.qZA(),t.TgZ(43,"span"),t._uU(44),t.ALo(45,"translate"),t.ALo(46,"translate"),t.qZA(),t.qZA(),t.YNc(47,m,7,5,"div",10),t.YNc(48,C,7,5,"div",10),t.TgZ(49,"div",5),t.TgZ(50,"button",11),t.NdJ("appFormButtonClick",function(){return o.applyNtp()}),t._uU(51),t.ALo(52,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&s){const i=t.MAs(40);t.xp6(2),t.Oqu(t.lcZ(3,27,"TIME_TITLE")),t.xp6(5),t.Oqu(t.lcZ(8,29,"TIME_WEB_BROWSER")),t.xp6(2),t.Q6J("ngModel",t.lcZ(10,31,o.data.browserTime)),t.xp6(4),t.Oqu(t.lcZ(14,33,"DEVICE_TIME")),t.xp6(2),t.Q6J("ngModel",t.lcZ(16,35,o.data.deviceTime)),t.xp6(2),t.Q6J("disabled",o.data.ntpEnable||o.synchronizing)("nzLoading",o.synchronizing),t.xp6(1),t.Oqu(t.lcZ(19,37,"SYNCHRONIZE")),t.xp6(3),t.Oqu(t.lcZ(22,39,"TIME_MANUAL_TITLE")),t.xp6(5),t.Oqu(t.lcZ(27,41,"TIME_MANUAL_SET")),t.xp6(2),t.Q6J("ngModel",o.data.setTime)("nzDefaultPickerValue",o.data.setTime)("nzInputReadOnly",!0)("nzAllowClear",!1),t.xp6(1),t.Q6J("disabled",o.data.ntpEnable||o.synchronizing),t.xp6(1),t.Oqu(t.lcZ(31,43,"APPLY")),t.xp6(4),t.Oqu(t.lcZ(35,45,"TIME_NTP_INFO")),t.xp6(3),t.Oqu(t.lcZ(38,47,"TIME_NTP")),t.xp6(5),t.Q6J("ngModel",o.data.ntpEnable),t.xp6(2),t.AsE("",t.lcZ(45,49,"TIME_NTP")," ",t.lcZ(46,51,o.data.ntpEnable?"ENABLED":"DISABLED"),""),t.xp6(3),t.Q6J("ngIf",o.data.ntpEnable),t.xp6(1),t.Q6J("ngIf",o.data.ntpEnable),t.xp6(2),t.Q6J("nzLoading",o.applyingNtp)("disabled",o.applyingNtp)("form",i),t.xp6(1),t.Oqu(t.lcZ(52,53,"APPLY"))}},directives:[e._Y,e.JL,e.F,e.Fj,e.JJ,e.On,g.ix,v.dQ,M.w,Z.uw,D.i,O.O5,I.P,e.nD,e.Q7,E.b],pipes:[d.X$,P.U],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;overflow:auto}form[_ngcontent-%COMP%]{padding-bottom:15px;margin-bottom:10px;border-bottom:1px solid #dbdbdb}form[_ngcontent-%COMP%]:last-child{padding-bottom:0;margin-bottom:0;border-bottom:0}"]}),a})()},283:(A,f,n)=>{n.d(f,{U:()=>d});var t=n(5e3);let d=(()=>{class c{transform(u){return isNaN(u)||null===u?"-":new Date(1e3*u).toLocaleString()}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275pipe=t.Yjl({name:"toLocaleString",type:c,pure:!0}),c})()},6912:(A,f,n)=>{n.d(f,{g:()=>c});var t=n(5e3),d=n(520);let c=(()=>{class r{constructor(e){this.http=e}getData(){return this.http.get("api/settings/ip")}setDns(e){return this.http.post("api/settings/dns",e,{responseType:"text"})}getDns(){return this.http.get("api/settings/dns")}setData(e){return this.http.post("api/settings/ip",e,{responseType:"text"})}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(d.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},2189:(A,f,n)=>{n.d(f,{w:()=>c});var t=n(5e3),d=n(520);let c=(()=>{class r{constructor(e){this.http=e}getData(){return this.http.get("/api/settings/wifi")}setAccessPoint(e){return this.http.post("/api/settings/access-point",e,{responseType:"text"})}setAntenna(e){return this.http.post("/api/settings/antenna",e,{responseType:"text"})}setWifi(e){return this.http.post("/api/settings/wifi",e)}setWifiIp(e){return this.http.post("/api/settings/wifi/ip",e)}connectWifi(e){return this.http.post("/api/settings/wifi/connect",e)}disconnectWifi(){return this.http.post("/api/settings/wifi/disconnect",{})}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(d.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},3906:(A,f,n)=>{n.d(f,{F:()=>c});var t=n(5e3),d=n(520);let c=(()=>{class r{constructor(e){this.http=e}getData(){return this.http.get("api/settings/time")}setData(e){return this.http.post("api/settings/time",e)}setNtp(e){return this.http.post("api/settings/time/ntp",e)}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(d.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},6681:(A,f,n)=>{n.d(f,{U:()=>c});var t=n(5e3),d=n(520);let c=(()=>{class r{constructor(e){this.http=e}getData(){return this.http.get("api/settings/region")}setData(e){return this.http.post("api/settings/region",e,{responseType:"text"})}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(d.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},452:(A,f,n)=>{n.d(f,{g:()=>r});var t=n(520),d=n(4004),c=n(5e3);let r=(()=>{class u{constructor(g){this.http=g}upload(g){const v=new t.aW("POST","api/settings/update/upload",g,{reportProgress:!0,responseType:"text"});return this.http.request(v).pipe((0,d.U)(M=>M.type===t.dt.UploadProgress?Math.round(100*M.loaded/M.total):M.type===t.dt.Response))}startUpdate(){return this.http.post("api/settings/update/start",{},{responseType:"text"})}restart(){return this.http.post("api/settings/reset",{},{responseType:"text"})}updateStatus(){return this.http.get("api/settings/update/status")}softwareVersion(){return this.http.get("api/settings/software-version")}serverStatus(){return this.http.get("api/settings/server-status",{responseType:"text"})}}return u.\u0275fac=function(g){return new(g||u)(c.LFG(t.eN))},u.\u0275prov=c.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},4961:(A,f,n)=>{n.d(f,{Z:()=>c});var t=n(5e3),d=n(520);let c=(()=>{class r{constructor(e){this.http=e}getData(){return this.http.get("api/users")}saveUser(e){return this.http.post("api/users",e,{responseType:"text"})}updateUser(e){let g;return g=0===e.id?{}:{responseType:"text"},this.http.put("api/users",e,g)}reLogin(e){return this.http.post("api/login",e)}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(d.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()}}]);
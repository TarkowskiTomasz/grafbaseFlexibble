"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[70],{2966:(x,c,n)=>{n.d(c,{_:()=>h});var l=n(5e3),p=n(9783);let h=(()=>{class d{constructor(o){this.messageService=o}success(o,i){this.showToast(o,"success",i)}info(o,i){this.showToast(o,"info",i)}warning(o,i){this.showToast(o,"warn",i)}error(o,i){this.showToast(o,"error",i)}showToast(o,i,u=!1){this.messageService.add({severity:i,detail:o,sticky:u})}clear(){this.messageService.clear()}}return d.\u0275fac=function(o){return new(o||d)(l.LFG(p.ez))},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},4070:(x,c,n)=>{n.r(c),n.d(c,{TestLedModule:()=>U});var l=n(5084),p=n(4521),h=n(7575),d=n(5963),g=n(515),o=n(2529),i=n(6129),u=n(262),m=n(9808),t=n(5e3),L=n(520);let b=(()=>{class e{constructor(s){this.http=s}startTest(){return this.http.post("api/tests/start-test-led",{},{responseType:"text"})}stopTest(){return this.http.post("api/tests/stop-test-led",{})}ledLog(){return this.http.get("api/tests/led-log")}}return e.\u0275fac=function(s){return new(s||e)(t.LFG(L.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var y=n(2966),C=n(2313),S=n(9777),T=n(1062),v=n(3075),z=n(6042),M=n(2643),E=n(2683),Z=n(2874);function O(e,a){if(1&e){const s=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){return t.CHM(s),t.oxw().startTest()}),t._uU(1,"Start LED & buttons test"),t.qZA()}if(2&e){const s=t.oxw();t.Q6J("nzLoading",s.saving)("disabled",s.saving)}}function A(e,a){if(1&e){const s=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){return t.CHM(s),t.oxw().stopTest()}),t._uU(1,"Stop LED & buttons test"),t.qZA()}if(2&e){const s=t.oxw();t.Q6J("nzLoading",s.saving)("disabled",s.saving)}}const P=[{path:"",component:(()=>{class e{constructor(s,r,f,W,Y,F,w){this.testLedService=s,this.toastr=r,this.titleService=f,this.appLoadService=W,this.translate=Y,this.document=F,this.renderer=w,this.saving=!1,this.status=0,this.year=(new Date).getFullYear(),this.aliveLog=!0}ngOnInit(){this.isWifi=this.appLoadService.user.isWifi,this.titleService.setTitle(`SCU200${this.appLoadService.user.isWifi?"-W":""} - Test Led`),this.renderer.removeClass(this.document.body,"dark-mode"),this.renderer.removeClass(this.document.body,"light-mode"),this.renderer.addClass(this.document.body,"light-mode"),this.isWifi=this.appLoadService.user.isWifi,this.version=this.appLoadService.user.version}startTest(){this.saving=!0,this.result="",this.testLedService.startTest().subscribe(()=>{this.ledLog(),this.status=1,this.saving=!1},()=>{this.toastr.error(this.translate.instant("REQUEST_ERROR")),this.saving=!1})}stopTest(){this.saving=!0,this.aliveLog=!1,this.testLedService.stopTest().subscribe(s=>{this.status=0,this.saving=!1,this.result=s.result},()=>{this.toastr.error(this.translate.instant("REQUEST_ERROR")),this.saving=!1})}ledLog(){this.aliveLog=!0,(0,d.H)(0,1e3).pipe((0,o.o)(()=>this.aliveLog),(0,i.z)(()=>this.testLedService.ledLog().pipe((0,u.K)(()=>g.E)))).subscribe(s=>{this.result=s.result})}}return e.\u0275fac=function(s){return new(s||e)(t.Y36(b),t.Y36(y._),t.Y36(C.Dx),t.Y36(S.V),t.Y36(T.sK),t.Y36(m.K0),t.Y36(t.Qsj))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-test-led"]],decls:17,vars:10,consts:[[1,"test-led-container"],[1,"test-led-content"],["alt","logo","src","/assets/logo_abb_login.png",1,"logo"],[1,"product-name"],[1,"product-subname"],[1,"form-group"],["nz-button","","nzType","primary",3,"nzLoading","disabled","click",4,"ngIf"],["nz-button","","class","black","nzType","primary",3,"nzLoading","disabled","click",4,"ngIf"],["id","test_result"],[1,"test-led-footer"],["nz-button","","nzType","primary",3,"nzLoading","disabled","click"],["nz-button","","nzType","primary",1,"black",3,"nzLoading","disabled","click"]],template:function(s,r){1&s&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"img",2),t.TgZ(3,"h1",3),t._uU(4),t.qZA(),t.TgZ(5,"h2",4),t._uU(6),t.qZA(),t.TgZ(7,"form"),t.TgZ(8,"div",5),t.YNc(9,O,2,2,"button",6),t.YNc(10,A,2,2,"button",7),t.qZA(),t.qZA(),t.TgZ(11,"div",8),t._uU(12),t.qZA(),t.qZA(),t.TgZ(13,"div",9),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.qZA(),t._UZ(16,"app-toastr")),2&s&&(t.xp6(4),t.hij("SCU200",r.isWifi?"-W":"",""),t.xp6(2),t.AsE("SCU200",r.isWifi?"-W":"",", v",r.version,""),t.xp6(3),t.Q6J("ngIf",0===r.status),t.xp6(1),t.Q6J("ngIf",1===r.status),t.xp6(2),t.Oqu(r.result),t.xp6(2),t.AsE(" ",t.lcZ(15,8,"RIGHTS_RESERVED")," ",r.year," "))},directives:[v._Y,v.JL,v.F,m.O5,z.ix,M.dQ,E.w,Z.l],pipes:[T.X$],styles:['@charset "UTF-8";[_nghost-%COMP%]{width:100%;height:100vh;background:#fafafa;display:flex;align-items:center;justify-content:center;flex-direction:column}.test-led-container[_ngcontent-%COMP%]{box-shadow:0 0 10px 1px #0000001a;background:url(/assets/login_background.png) no-repeat top;width:720px;min-height:320px;display:flex;flex-direction:column;justify-content:space-between}.test-led-content[_ngcontent-%COMP%]{position:relative;padding:64px 32px 0}.test-led-footer[_ngcontent-%COMP%]{border-top:1px solid silver;padding:12px 16px;font-size:12px;text-align:right}.logo[_ngcontent-%COMP%]{position:absolute;height:22px;top:38px;right:32px;width:61px}.product-name[_ngcontent-%COMP%]{margin:0;font-size:32px;line-height:1;min-height:64px;font-weight:700;letter-spacing:-2px}.product-name[_ngcontent-%COMP%]:before{content:"\\2014";font-size:inherit;color:#ff000f;display:block}.product-subname[_ngcontent-%COMP%]{margin:12px 0 0;min-height:20px;font-size:14px;font-weight:700}#test_result[_ngcontent-%COMP%]{margin-top:20px;white-space:pre;text-align:left;height:200px;overflow:auto;background:#fff;border:1px solid #bababa;padding:10px;margin-bottom:10px}form[_ngcontent-%COMP%]{display:flex;justify-content:center}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:20px 0 10px}@media (max-width: 991px){.test-led-container[_ngcontent-%COMP%]{max-width:100%}}']}),e})(),canActivate:[h.u]}];let R=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[h.u],imports:[[p.Bz.forChild(P)],p.Bz]}),e})(),U=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[l.m,R]]}),e})()}}]);